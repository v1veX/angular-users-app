<section class="section container">
    <h1 class="visually-hidden">User details</h1>
    <header class="section__header">
        <a [routerLink]="['/']" class="section__link button-skeleton">
            <span class="button-skeleton__icon">
                <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M38 24H10M10 24L24 38M10 24L24 10" stroke="#1E1E1E" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </span>
            <span>Back to users</span>
        </a>
    </header>
    <div class="section__body">
        <div class="user-details">
            <div class="user-details__image-wrapper tile">
                <img
                    src="images/profile.png"
                    alt=""
                    class="user-details__image"
                    width="250" height="250"
                />
            </div>
            <div class="user-details__actions tile">
            @if (user) {
                <a 
                    [routerLink]="['/edit-user', user.id]"
                    class="user-details__edit-button button"
                >
                    <span class="button__icon">
                        <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M22 7.99996H8C6.93913 7.99996 5.92172 8.42139 5.17157 9.17154C4.42143 9.92168 4 10.9391 4 12V40C4 41.0608 4.42143 42.0782 5.17157 42.8284C5.92172 43.5785 6.93913 44 8 44H36C37.0609 44 38.0783 43.5785 38.8284 42.8284C39.5786 42.0782 40 41.0608 40 40V26M37 4.99996C37.7956 4.20432 38.8748 3.75732 40 3.75732C41.1252 3.75732 42.2044 4.20432 43 4.99996C43.7956 5.79561 44.2426 6.87475 44.2426 7.99996C44.2426 9.12518 43.7956 10.2043 43 11L24 30L16 32L18 24L37 4.99996Z" stroke="#1E1E1E" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </span>
                    <span>Edit user</span>
                </a>
                <button
                    class="user-details__delete-button button"
                    [class.disabled]="deletionInProgress"
                    type="button"
                    (click)="onDeleteClick()"
                >
                @if (deletionInProgress) {
                    <div class="component-preloader component-preloader--small"></div>
                }
                @else {
                    <span class="button__icon">
                        <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M6 12H10M10 12H42M10 12V40C10 41.0609 10.4214 42.0783 11.1716 42.8284C11.9217 43.5786 12.9391 44 14 44H34C35.0609 44 36.0783 43.5786 36.8284 42.8284C37.5786 42.0783 38 41.0609 38 40V12M16 12V8C16 6.93913 16.4214 5.92172 17.1716 5.17157C17.9217 4.42143 18.9391 4 20 4H28C29.0609 4 30.0783 4.42143 30.8284 5.17157C31.5786 5.92172 32 6.93913 32 8V12M20 22V34M28 22V34" stroke="#1E1E1E" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </span>
                    <span>Delete user</span>
                }
                </button>
            }
            @else {
                <div class="component-preloader component-preloader--small"></div>
            }
            </div>   
            <div class="user-details__info user-info tile">
            @if (user) {
                <header class="user-info__header">
                    <h2 class="user-info__name">{{user.name}}</h2>
                    <p class="user-info__username">&#64;{{user.username}}</p>
                </header>
                <div class="user-info__body">
                    <ul class="user-info__list">
                        <li class="user-info__item">
                            <div class="user-info__item-icon">
                                <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M18 44V24H30V44M6 18L24 4L42 18V40C42 41.0609 41.5786 42.0783 40.8284 42.8284C40.0783 43.5786 39.0609 44 38 44H10C8.93913 44 7.92172 43.5786 7.17157 42.8284C6.42143 42.0783 6 41.0609 6 40V18Z" stroke="#1E1E1E" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                            <p class="user-info__key visually-hidden">Address</p>
                            <div class="user-info__value">
                                <p>{{user.address.city}}, {{user.address.street}}, {{user.address.suite}}, {{user.address.zipcode}}</p>
                            </div>
                        </li>
                        <li class="user-info__item">
                            <div class="user-info__item-icon">
                                <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M44 12C44 9.8 42.2 8 40 8H8C5.8 8 4 9.8 4 12M44 12V36C44 38.2 42.2 40 40 40H8C5.8 40 4 38.2 4 36V12M44 12L24 26L4 12" stroke="#1E1E1E" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                            <p class="user-info__key visually-hidden">Email</p>
                            <div class="user-info__value">
                                <a href="mailto:{{user.email}}">{{user.email}}</a>
                            </div>
                        </li>
                        <li class="user-info__item">
                            <div class="user-info__item-icon">
                                <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M32 42V10C32 8.93913 31.5786 7.92172 30.8284 7.17157C30.0783 6.42143 29.0609 6 28 6H20C18.9391 6 17.9217 6.42143 17.1716 7.17157C16.4214 7.92172 16 8.93913 16 10V42M8 14H40C42.2091 14 44 15.7909 44 18V38C44 40.2091 42.2091 42 40 42H8C5.79086 42 4 40.2091 4 38V18C4 15.7909 5.79086 14 8 14Z" stroke="#1E1E1E" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                            <p class="user-info__key visually-hidden">Company</p>
                            <div class="user-info__value">
                                <p>{{user.company.name}}</p>
                            </div>
                        </li>
                        <li class="user-info__item">
                            <div class="user-info__item-icon">
                                <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M44.0001 33.84V39.84C44.0024 40.397 43.8883 40.9483 43.6651 41.4586C43.442 41.969 43.1147 42.4271 42.7043 42.8037C42.2938 43.1802 41.8093 43.4669 41.2816 43.6454C40.754 43.8238 40.1949 43.8901 39.6401 43.84C33.4858 43.1712 27.5741 41.0682 22.3801 37.7C17.5478 34.6293 13.4508 30.5323 10.3801 25.7C7.00007 20.4824 4.8966 14.5419 4.24011 8.35995C4.19013 7.80688 4.25586 7.24947 4.43311 6.7232C4.61036 6.19693 4.89525 5.71333 5.26964 5.30319C5.64403 4.89306 6.09972 4.56537 6.60769 4.34099C7.11566 4.11662 7.66479 4.00047 8.22011 3.99995H14.2201C15.1907 3.9904 16.1317 4.33411 16.8676 4.96702C17.6036 5.59992 18.0843 6.47884 18.2201 7.43995C18.4734 9.36008 18.943 11.2454 19.6201 13.0599C19.8892 13.7758 19.9474 14.5538 19.7879 15.3017C19.6284 16.0496 19.2578 16.7362 18.7201 17.28L16.1801 19.8199C19.0272 24.827 23.173 28.9728 28.1801 31.82L30.7201 29.28C31.2639 28.7422 31.9504 28.3716 32.6983 28.2121C33.4463 28.0526 34.2243 28.1109 34.9401 28.3799C36.7547 29.0571 38.64 29.5267 40.5601 29.78C41.5316 29.917 42.4189 30.4064 43.0532 31.1549C43.6874 31.9035 44.0244 32.8591 44.0001 33.84Z" stroke="#1E1E1E" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                            <p class="user-info__key visually-hidden">Phone</p>
                            <div class="user-info__value">
                                <a href="tel:{{user.phone}}">{{user.phone}}</a>
                            </div>
                        </li>
                        <li class="user-info__item">
                            <div class="user-info__item-icon">
                                <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M44 24C44 35.0457 35.0457 44 24 44M44 24C44 12.9543 35.0457 4 24 4M44 24H4M24 44C12.9543 44 4 35.0457 4 24M24 44C29.0026 38.5233 31.8455 31.4159 32 24C31.8455 16.5841 29.0026 9.47671 24 4M24 44C18.9974 38.5233 16.1545 31.4159 16 24C16.1545 16.5841 18.9974 9.47671 24 4M4 24C4 12.9543 12.9543 4 24 4" stroke="#1E1E1E" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                            <p class="user-info__key visually-hidden">Website</p>
                            <div class="user-info__value">
                                <a href="https://{{user.website}}" target="_blank">{{user.website}}</a>
                            </div>
                        </li>
                    </ul>
                </div>
            }
            @else {
                <div class="component-preloader component-preloader--big"></div>
            }
            </div>
        </div>
    </div>
</section>
